<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]<!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="UTF-8" /><title></title><link href="/stylesheets/application.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/normalize.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/pages/blog.css" rel="stylesheet" type="text/css" /><link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" /><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /><link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" /></head><body class="blog"><header><nav><h1><a href="/">RSpec</a></h1><ul><li><a href="/about">About</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/blog">Blog</a></li><li><a href="/upgrading-from-rspec-2">Upgrade</a></li><li><a href="/help">Get Help</a></li><li><a href="/contributing">Contributing</a></li></ul></nav></header><section class='blog_post'>
  <h2>Blog</h2>
  <p>Page 2 of 2</p>

    <p><a href="/blog/">Previous page</a></p>

  <h3>
    <a href="/blog/2013/07/the-plan-for-rspec-3/">The Plan for RSpec 3</a> -- Myron Marston
    <small>Jul 15, 2013</small>
  </h3>
  <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
  <p>Update: <a href="http://nilp.hatenablog.com/entry/2013/07/16/131641">There's a Japanese translation of
this</a> available
now.</p>

<p>RSpec 2.0 was released in October 2010. In the nearly three years since
then, we've been able to continually improve RSpec without needing to
make breaking changes, but we've reached a point where RSpec has a fair
bit of cruft stemming from the need to retain backwards
compatibility with older 2.x releases.</p>

<p><a href="/blog/2013/07/rspec-2-14-is-released">RSpec 2.14</a>
will be the last RSpec 2 feature release. (We may do some
bug-fix patch releases, though). We're getting started on...</p>
  <hr>
  <h3>
    <a href="/blog/2013/07/rspec-2-14-is-released/">RSpec 2.14 is released!</a> -- Myron Marston
    <small>Jul  8, 2013</small>
  </h3>
  <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
  <p>We've just released RSpec 2.14. It will be the last 2.x feature release
and is a recommended upgrade for all users. We're getting started on
RSpec 3.  I'll be blogging about our plans for RSpec 3 next week, so
check back soon :).</p>

<p>Thanks to all the contributors who helped make this RSpec release happen.</p>

<h2 id="notable-new-features">Notable New Features</h2>

<h3 id="core-profiler-now-profiles-example-groups-too">Core: Profiler now profiles example groups, too</h3>

<p>RSpec has long had the <code>--profile</code> option for dumping the top N
slowest examples at the end. In RSpec 2.14, this has been enhanced...</p>
  <hr>
  <h3>
    <a href="/blog/2013/04/rspec-team-changes/">RSpec Team Changes</a> -- Myron Marston
    <small>Apr  8, 2013</small>
  </h3>
  <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
  <p>The RSpec core team recently expanded to include three new members:</p>

<ul>
  <li><a href="http://www.soulcutter.com/">Bradley Schaefer</a></li>
  <li><a href="http://jonrowe.co.uk/">Jon Rowe</a></li>
  <li><a href="http://samphippen.com/">Sam Phippen</a></li>
</ul>

<p>Bradley, Jon and Sam have all been doing great work reviewing pull
requests, triaging issues, fixing bugs, improving RSpec's documentation
and coding new features. We decided it was time to add them to the
team.</p>

<p>Meanwhile, <a href="http://spicycode.com/">Chad Humphries</a>, <a href="http://patmaddox.com/">Pat
Maddox</a> and <a href="https://github.com/justinko">Justin
Ko</a> have all chosen to retire from
the team and move on to other things.</p>

<p>Please join me in welcoming Bradley, Jon and Sam...</p>
  <hr>
  <h3>
    <a href="/blog/2013/02/rspec-2-13-is-released/">RSpec 2.13 is released!</a> -- Myron Marston
    <small>Feb 23, 2013</small>
  </h3>
  <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
  <p>I've just released RSpec 2.13. It's a minor release containing a few
backward-compatible enhancements and lots of bug fixes. It is a
recommended upgrade for all users.</p>

<p>Thanks to all the contributors who helped make this RSpec release happen.</p>

<h2 id="notable-new-features">Notable New Features</h2>

<h3 id="profile-more-than-10-examples">Profile more than 10 examples</h3>

<p>RSpec has featured a <code>--profile</code> option for a long time. It dumps a
report of the 10 slowest examples. Now you can pass a numeric option
to have it print more than 10 examples.</p>

<p>To print off the 15 slowest...</p>
  <hr>
  <h3>
    <a href="/blog/2012/07/mixing-and-matching-parts-of-rspec/">Mixing and Matching Parts of RSpec</a> -- Myron Marston
    <small>Jul 23, 2012</small>
  </h3>
  <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
  <p>RSpec was split into three subprojects for the last major release
(2.0):</p>

<ul>
  <li>rspec-core: The test runner and main DSL (<code>describe</code>, <code>it</code>, <code>before</code>,
<code>after</code>, <code>let</code>, <code>shared_examples</code>, etc).</li>
  <li>rspec-expectations: Provides a readable syntax for specifying the
expected outcomes of your tests using matchers.</li>
  <li>rspec-mocks: RSpec's test-double framework.</li>
</ul>

<p>One of the cool things about this is that it allows you to mix and
match parts of RSpec with other testing libraries. Unfortunately, even
though RSpec 2 has been...</p>
  <hr>
  <h3>
    <a href="/blog/2012/06/constant-stubbing-in-rspec-2-11/">Constant Stubbing in RSpec 2.11</a> -- Myron Marston
    <small>Jun 29, 2012</small>
  </h3>
  <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
  <p>In the 2.11 release, rspec-mocks is gaining a significant new
capability that, as far as I know, isn't provided by any other
ruby mocking library: constant stubbing<sup id="fnref:foot_1"><a href="#fn:foot_1" class="footnote">1</a></sup>.</p>

<p>Let's look at the API, and then talk a bit about some of
the use cases for it.</p>

<h2 id="the-api">The API</h2>

<p>The main API is <code>stub_const</code>:</p>

<pre><code class="highlight ruby"><span class="n">describe</span> <span class="s2">"stub_const"</span> <span class="k">do</span>
  <span class="n">it</span> <span class="s2">"changes the constant value for the duration of the example"</span> <span class="k">do</span>
    <span class="n">stub_const</span><span class="p">(</span><span class="s2">"Foo::SIZE"</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="no">Foo</span><span class="o">::</span><span class="no">SIZE</span><span class="p">).</span><span class="nf">to</span> <span class="n">eq</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>

<p>This works for both defined and undefined...</p>
  <hr>
  <h3>
    <a href="/blog/2012/06/rspecs-new-expectation-syntax/">RSpec's New Expectation Syntax</a> -- Myron Marston
    <small>Jun 15, 2012</small>
  </h3>
  <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
  <p>RSpec has featured a readable english-like syntax for setting
expectations for a long time:</p>

<pre><code class="highlight ruby"><span class="n">foo</span><span class="p">.</span><span class="nf">should</span> <span class="n">eq</span><span class="p">(</span><span class="n">bar</span><span class="p">)</span>
<span class="n">foo</span><span class="p">.</span><span class="nf">should_not</span> <span class="n">eq</span><span class="p">(</span><span class="n">bar</span><span class="p">)</span>
</code></pre>

<p>RSpec 2.11 will include a new variant to this syntax:</p>

<pre><code class="highlight ruby"><span class="n">expect</span><span class="p">(</span><span class="n">foo</span><span class="p">).</span><span class="nf">to</span> <span class="n">eq</span><span class="p">(</span><span class="n">bar</span><span class="p">)</span>
<span class="n">expect</span><span class="p">(</span><span class="n">foo</span><span class="p">).</span><span class="nf">not_to</span> <span class="n">eq</span><span class="p">(</span><span class="n">bar</span><span class="p">)</span>
</code></pre>

<p>There are a few things motivating this new syntax, and I wanted
to blog about it to spread awareness.</p>

<h2 id="delegation-issues">Delegation Issues</h2>

<p>Between <code>method_missing</code>, <code>BasicObject</code> and the standard library's
<code>delegate</code>, ruby has very rich tools for building delegate or proxy
objects...</p>
  <hr>
  <h3>
    <a href="/blog/2011/11/recent-rspec-configuration-warnings-and-errors/">Recent RSpec Configuration Warnings and Errors</a> -- Myron Marston
    <small>Nov  4, 2011</small>
  </h3>
  <!-- use article.summary(250) if you have Nokogiri available to show just
       the first 250 characters -->
  <p>RSpec 2.6 introduced a deprecation warning when using <code>RSpec.configure {
... }</code> after defining an example group.  In RSpec 2.7, this warning was
removed, and now an error is raised when particular configuration
settings (<code>expect_with</code> and <code>mock_with</code>) are set after defining an
example group.</p>

<p>Recently, there have been comments and complaints on these changes
from <a href="http://twitter.com/#!/elight/status/112166313518039040">several</a>
<a href="http://twitter.com/#!/stevenharman/status/132251947473444864">different</a>
<a href="http://twitter.com/#!/pda/status/129116122074185728">people</a>
on <a href="http://twitter.com/#!/kytrinyx/status/116773198833532928">twitter</a>.</p>

<p>I'm the one who made those changes to RSpec, and people are rightfully
annoyed with these changes…but...</p>
  <hr>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59095215-1', 'auto');
  ga('send', 'pageview');

</script>
</body></html>